<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PastelArte - Confirmar Pago</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="pago.css">
</head>

<body>

<header>
  <nav>
    <a href="index.html">Inicio</a>
    <a href="catalogo.html">CatÃ¡logo</a>
    <a href="carrito.html">Carrito</a>
  </nav>
</header>

<section class="pago-page">

  <h1>ğŸ’³ Confirmar pago</h1>



  <form class="formulario">

    <b>MÃ©todo de pago:</b>

    <div class="pago">
      <label>
        <input type="radio" id="pagoEfectivo" name="pago" value="efectivo" onclick="mostrarCampoNequi()">
        Efectivo (contra entrega)
      </label><br>

      <label>
        <input type="radio" id="pagoNequi" name="pago" value="nequi" onclick="mostrarCampoNequi()">
        Nequi ğŸ’œ
      </label>
    </div>

    <div id="nequiCampo" style="display: none; margin-top: 15px;">
      <p>Transfiere tu pago a nuestro Nequi: <strong>312 000 0000</strong></p>

      <img width="20%" height="20%" src="imagen/nequi.png" alt="Pago con Nequi">

      <label>NÃºmero desde el que realizas el pago:</label>
      <input type="text" placeholder="Ej: 3101234567">

      <label>Adjunta comprobante (obligatorio si pagas por Nequi):</label>
      <input type="file" id="comprobante" accept="image/*">
    </div>

  </form>
  <div id="resumen-pago"></div>
  <button class="btn-pagar" onclick="pagar()">Pagar ahora</button>
</section>

<footer>
  <p>ğŸ“ Cali, Colombia | â˜ï¸ 312 000 0000 | ğŸ’Œ contacto@pastelarte.com</p>
</footer>

<script>
  function mostrarCampoNequi() {
    const nequiCampo = document.getElementById("nequiCampo");
    const metodoNequi = document.getElementById("pagoNequi");
    nequiCampo.style.display = metodoNequi.checked ? "block" : "none";
  }

  document.addEventListener("DOMContentLoaded", () => {
    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    let total = carrito.reduce((suma, item) => suma + item.precio, 0);

    document.getElementById("resumen-pago").innerHTML = `
      <h2>Total a pagar: <strong>$${total.toLocaleString()}</strong></h2>
      <p>EstÃ¡s pagando los productos aÃ±adidos al carrito ğŸ›’</p>
    `;
  });

  function pagar() {
    const efectivo = document.getElementById("pagoEfectivo").checked;
    const nequi = document.getElementById("pagoNequi").checked;

   
    if (!efectivo && !nequi) {
      alert("Por favor selecciona un mÃ©todo de pago antes de continuar.");
      return;
    }

    
    if (nequi) {
      const comprobante = document.getElementById("comprobante").files.length;
      if (comprobante === 0) {
        alert("Debes subir el comprobante de pago para continuar.");
        return;
      }
    }

    
    alert("Â¡Pago realizado con Ã©xito! ğŸ‰ Gracias por tu compra.");
    localStorage.removeItem("carrito");
    window.location.href = "index.html";
  }
</script>

</body>
</html>
